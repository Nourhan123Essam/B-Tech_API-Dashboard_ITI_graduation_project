@* @model DTOsB.Order.OrderDTO.SelectOrderBDTO
@{
    ViewData["Title"] = "Details";
}


<div class="container my-5 p-4  shadow rounded col-md-8">
    <div class="row justify-content-center mt-5">
        <h2 class="text-center mb-4 bg-light fw-bold text-primary p-4 shadow rounded" style="margin-top: -100px">Order Details</h2>
        <form method="post">
            <div class="container">
                <div>
                     <input hidden asp-for="Order.Id" />
                    <div class="container rounded p-2">
                        <div class="row">
                            <div class="col-12 col-lg-6 pb-4">

                                <div class="row my-1">
                                    <div class="col-5">Order Date</div>
                                    <div class="col-7 border-1">
                                    <p>@Model.OrderDate</p>
                                    </div>
                                </div>

                                <div class="row my-1">
                                    <div class="col-5">Total Price</div>
                                    <div class="col-7 border-1">
                                                <p>@Model.TotalPrice</p>
                                    </div>
                                </div>



                                <div class="row my-1">
                                    <div class="col-5">Shipping Cost</div>
                                    <div class="col-7 border-1">
                                                <p>@Model.ShippingCost</p>
                                    </div>
                                </div>

                                <div class="row my-1">
                                    <div class="col-5">Customer Name</div>
                                    <div class="col-7 border-1">
                                        <p>@Model.ApplicationUserName</p>
                                    </div>
                                </div>


                                <div class="row my-1">
                                    <div class="col-5">Payment Status</div>
                                    <div class="col-7 border-1">
                                        <p>@Model.PaymentStatus</p>
                                    </div>
                                </div>

                                <div class="row my-1">
                                    <form action="Edit" method="post">
                                        <div class="col-5">Current Status</div>
                                        <div class="col-7 border-1">
                                            <div class="form-group">
                                                <label asp-for="CurrentStatus" class="control-label"></label>
                                                <div class="col-md-10">
                                                    <select asp-for="CurrentStatus" class="form-control">
                                                        <option value="">@Model.CurrentStatus</option>
                                                        @foreach (var status in Enum.GetValues(typeof(ModelsB.Order_B.Status)))
                                                        {
                                                            <option value="@status">@status</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-success form-control my-1 shadow">Update Status</button>

                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>

         <table class="table">
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>Price for One Item</th>
                     <th>Quantity</th>
                    <th>Total Price</th>
                    <th>Quantity in Stock</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var product in Model.OrderItems)
                {
                    <tr>
                        <td>@product.ProductName</td>
                         <td>@product.Price.ToString("C")</td>
                         <td>@product.Quantity</td>
                         <td>@product.TotalPrice</td>
                         <td>@product.StockQuantity</td>

                    </tr>
                }
            </tbody>
        </table>
    </div>
</div> *@



@model DTOsB.Order.OrderDTO.SelectOrderBDTO
@{
    ViewData["Title"] = "Details";
}

<div class="container my-5 p-4 shadow rounded col-md-8">
    <div class="row justify-content-center mt-5">
        <h2 class="text-center mb-4 bg-light fw-bold text-primary p-4 shadow rounded" style="margin-top: -100px">Order Details</h2>
        <form method="post" asp-action="Edit">
            <div class="container">
                <div>
                    <!-- Hidden input for Order Id -->
                    <input hidden asp-for="@Model.Id" />

                    <div class="container rounded p-2">
                        <div class="row">
                            <div class="col-12 col-lg-6 pb-4">

                                <div class="row my-1">
                                    <div class="col-5">Order Date</div>
                                    <div class="col-7 border-1">
                                        <p>@Model.OrderDate</p>
                                    </div>
                                </div>

                                <div class="row my-1">
                                    <div class="col-5">Total Price</div>
                                    <div class="col-7 border-1">
                                        <p>@Model.TotalPrice</p>
                                    </div>
                                </div>

                                <div class="row my-1">
                                    <div class="col-5">Shipping Cost</div>
                                    <div class="col-7 border-1">
                                        <p>@Model.ShippingCost</p>
                                    </div>
                                </div>

                                <div class="row my-1">
                                    <div class="col-5">Customer Name</div>
                                    <div class="col-7 border-1">
                                        <p>@Model.ApplicationUserName</p>
                                    </div>
                                </div>

                                <div class="row my-1">
                                    <div class="col-5">Payment Status</div>
                                    <div class="col-7 border-1">
                                        <p>@Model.PaymentStatus</p>
                                    </div>
                                </div>

                                <!-- Status Update Section -->
                                <div class="row my-1">
                                    <div class="col-5">Current Status</div>
                                    <div class="col-7 border-1">
                                        <div class="form-group">
                                            @*  <label asp-for="CurrentStatus" class="control-label"></label>
                                            <select asp-for="CurrentStatus" class="form-control">
                                            <option value="">@Model.CurrentStatus</option>
                                            @foreach (var status in Enum.GetValues(typeof(ModelsB.Order_B.Status)))
                                            {
                                            <option value="@status">@status</option>
                                            }
                                            </select> *@
                                            <p>@Model.CurrentStatus</p>
                                        </div>
                                    </div>
                                </div>

                                @*                                 <button class="btn btn-success form-control my-3 shadow" type="submit">Update Status</button>
                                *@
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>

@*         <h1>@Model.OrderItems.ToList().Last()</h1>
 *@
        <!-- Order Items Table -->
        <h3>Order Items: </h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>Price for Single Item</th>
                    <th>Quantity</th>
                    <th>Total Price</th>
                    <th>Quantity in Stock</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var product in Model.OrderItems)
                {
                    <tr>
                        <td>@product.ProductName</td>
                        <td>@product.Price</td>
                        <td>@product.Quantity</td>
                        <td>@product.TotalPrice</td>
                        <td>@product.Product.StockQuantity</td>
                       @*  <td>@product.ProductName</td>
                        <td>@product.Price.ToString("C")</td> <!-- Format as currency -->
                        <td>@product.Quantity</td>
                        <td>@product.TotalPrice</td>
                        <td>@product.StockQuantity</td> *@
                    </tr>
                }
                <hr />
               
            </tbody>
        </table>
    </div>
</div>
